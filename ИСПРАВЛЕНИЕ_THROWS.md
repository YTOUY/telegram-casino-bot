# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å throws

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –∏–≥—Ä–µ "111" (3 –∫—É–±–∏–∫–∞) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∏–∫–µ—Ä —Å—É–º–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, dice_10) –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç–∏–∫–µ—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±—Ä–æ—Å–∫–∞ (dice_4, dice_2, dice_4).

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è throws
2. –£–±—Ä–∞–Ω—ã –≤—Å–µ fallback –Ω–∞ result (—Å—É–º–º—É) - —Ç–µ–ø–µ—Ä—å –µ—Å–ª–∏ throws –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö
3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ throws –≤—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —Å–ø–∏—Å–æ–∫

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/telegram_bot_test
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
# - handlers/games.py
# - api_server.py
```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞:**
```bash
systemctl restart telegram-bot-test
```

3. **–°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**
```bash
journalctl -u telegram-bot-test -f
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É "111" –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**

5. **–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:**
   - `üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏-–∞–ø–ø–∞:` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –µ—Å—Ç—å –ª–∏ mini_app –∏ game_id
   - `üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º throws –¥–ª—è –º–∏–Ω–∏-–∞–ø–ø–∞:` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ process_game_result
   - `üîç check_mini_app_game_result: throws –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è=` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - `üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω throws –≤ check_mini_app_game_result:` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ check_mini_app_game_result
   - `üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–≥—Ä—ã:` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ API
   - `üì§ –§–∏–Ω–∞–ª—å–Ω—ã–π throws –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
üé≤ –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—Ä–æ—Å–∫–æ–≤: [4, 2, 4]
üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º throws –¥–ª—è –º–∏–Ω–∏-–∞–ø–ø–∞: –∏—Å—Ö–æ–¥–Ω—ã–π throws=[4, 2, 4] (—Ç–∏–ø: <class 'list'>, –¥–ª–∏–Ω–∞: 3), –∫–æ–ø–∏—è=[4, 2, 4]
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã –∏–∑ –º–∏–Ω–∏-–∞–ø–ø–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: game_id=..., result=10, throws=[4, 2, 4], win=0
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω throws –≤ check_mini_app_game_result: [4, 2, 4] ‚Üí [4, 2, 4]
üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–≥—Ä—ã: game_id=..., result=10, throws=[4, 2, 4]
üì§ –§–∏–Ω–∞–ª—å–Ω—ã–π throws –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏: [4, 2, 4]
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `throws=[]` –∏–ª–∏ `throws=None` - —ç—Ç–æ –æ—à–∏–±–∫–∞, –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤—ã—à–µ.

