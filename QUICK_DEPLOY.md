# üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π - –∫–æ–º–∞–Ω–¥—ã

## ‚úÖ –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Netlify (–£–ñ–ï –ó–ê–î–ï–ü–õ–û–ï–ù–û!)

**URL:** https://arbuzcas.netlify.app

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```bash
cd "—Ç–≥ –∫–∞–∑ –¥–ª—è 11/mini_app"
netlify deploy --prod
```

---

## üîß –ó–∞–≥—Ä—É–∑–∫–∞ API –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä

### 1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# –ò–∑ PowerShell –∏–ª–∏ Git Bash (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_SERVER_IP –∏ USERNAME)
scp -r "—Ç–≥ –∫–∞–∑ –¥–ª—è 11" USERNAME@YOUR_SERVER_IP:~/arbuzcasino/
```

### 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ API:

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh USERNAME@YOUR_SERVER_IP

# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd ~/arbuzcasino/—Ç–≥\ –∫–∞–∑\ –¥–ª—è\ 11

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞"

# –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç—É 8080
python api_server.py
```

### 3. –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ —á–µ—Ä–µ–∑ screen:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ screen —Å–µ—Å—Å–∏—é
screen -S arbuzcasino-api

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ API (–∫–æ–º–∞–Ω–¥—ã –∏–∑ —à–∞–≥–∞ 2)
cd ~/arbuzcasino/—Ç–≥\ –∫–∞–∑\ –¥–ª—è\ 11
source venv/bin/activate
export BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞"
python api_server.py

# –û—Ç–∫–ª—é—á–∏—Ç–µ—Å—å: Ctrl+A, –∑–∞—Ç–µ–º D
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –æ–±—Ä–∞—Ç–Ω–æ: screen -r arbuzcasino-api
```

---

## ‚öôÔ∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

### 1. –û–±–Ω–æ–≤–∏—Ç–µ IP API —Å–µ—Ä–≤–µ—Ä–∞ –≤ Netlify Function:

–§–∞–π–ª: `mini_app/netlify/functions/api-proxy.js` (—Å—Ç—Ä–æ–∫–∞ 33)

```javascript
// –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_SERVER_IP –Ω–∞ IP –≤–∞—à–µ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
const apiUrl = `http://YOUR_SERVER_IP:8080${path}`;
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ —Å–Ω–æ–≤–∞:
```bash
cd "—Ç–≥ –∫–∞–∑ –¥–ª—è 11/mini_app"
netlify deploy --prod
```

### 2. –û–±–Ω–æ–≤–∏—Ç–µ URL –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –±–æ—Ç–µ:

–§–∞–π–ª: `handlers/mini_app.py` (—Å—Ç—Ä–æ–∫–∞ 22)

```python
web_app_url = "https://arbuzcas.netlify.app/index.html"
```

### 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd ~/arbuzcasino/—Ç–≥\ –∫–∞–∑\ –¥–ª—è\ 11
nano .env
```

–î–æ–±–∞–≤—å—Ç–µ:
```
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
CRYPTO_PAY_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_crypto_pay  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç:

- [x] –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ Netlify: https://arbuzcas.netlify.app
- [ ] –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
- [ ] API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080
- [ ] IP –∞–¥—Ä–µ—Å –æ–±–Ω–æ–≤–ª–µ–Ω –≤ `api-proxy.js`
- [ ] URL –æ–±–Ω–æ–≤–ª–µ–Ω –≤ `handlers/mini_app.py`
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] Firewall —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–æ—Ä—Ç 8080

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ API –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
curl http://localhost:8080/api/user

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API —Å –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:
curl http://YOUR_SERVER_IP:8080/api/user
```

---

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** —Å–º. `DEPLOY_INSTRUCTIONS.md`
