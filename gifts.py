# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∞—Ä–∫–æ–≤ —Å –ø—Ä–µ–º–∏—É–º —ç–º–æ–¥–∑–∏ –∏ —Ü–µ–Ω–∞–º–∏
# –§–æ—Ä–º–∞—Ç: {"emoji": "üê∏", "name": "Plush Pepe", "price_ton": 5222.00, "price_ton_black": 15665.99}
# price_ton - –æ–±—ã—á–Ω–∞—è —Ü–µ–Ω–∞, price_ton_black - —Ü–µ–Ω–∞ —Å —á–µ—Ä–Ω—ã–º —Ñ–æ–Ω–æ–º

GIFTS_CONFIG = {
    "üê∏": {"name": "Plush Pepe", "price_ton": 5750.00, "price_ton_black": 17250.00},
    "‚ù§Ô∏è‚Äçüî•": {"name": "Heart Locket", "price_ton": 1029.99, "price_ton_black": 3089.97},
    "üß¢": {"name": "Durov's Cap", "price_ton": 737.00, "price_ton_black": 2211.00},
    "üçë": {"name": "Precious Peach", "price_ton": 347.90, "price_ton_black": 1043.70},
    "üóø": {"name": "Heroic Helmet", "price_ton": 220.99, "price_ton_black": 662.97},
    "üí™üèª": {"name": "Mighty Arm", "price_ton": 169.80, "price_ton_black": 509.40},
    "üíé": {"name": "Astral Shard", "price_ton": 128.69, "price_ton_black": 386.07},
    "üó°": {"name": "Nail Bracelet", "price_ton": 96.99, "price_ton_black": 290.97},
    "üëú": {"name": "Loot Bag", "price_ton": 89.89, "price_ton_black": 269.67},
    "": {"name": "Mini Oscar", "price_ton": 80.98, "price_ton_black": 242.94},  # –ù–µ—Ç —ç–º–æ–¥–∑–∏
    "üçº": {"name": "Perfume Bottle", "price_ton": 74.98, "price_ton_black": 224.94},
    "üíé": {"name": "Ion Gem", "price_ton": 73.95, "price_ton_black": 221.85},
    "üß±": {"name": "Artisan Brick", "price_ton": 68.00, "price_ton_black": 204.00},
    "üßôüèª": {"name": "Magic Potion", "price_ton": 64.99, "price_ton_black": 194.97},
    "üêà‚Äç‚¨õ": {"name": "Scared Cat", "price_ton": 62.00, "price_ton_black": 186.00},
    "üíç": {"name": "Gem Signet", "price_ton": 55.99, "price_ton_black": 167.97},
    "üññüèª": {"name": "Westside Sign", "price_ton": 56.97, "price_ton_black": 170.91},
    "üíç": {"name": "Bonded Ring", "price_ton": 45.50, "price_ton_black": 136.50},
    "üí°": {"name": "Genie Lamp", "price_ton": 42.73, "price_ton_black": 128.19},
    "‚åöÔ∏è": {"name": "Swiss Watch", "price_ton": 38.10, "price_ton_black": 114.30},
    "ü´¶": {"name": "Sharp Tongue", "price_ton": 35.57, "price_ton_black": 106.71},
    "üê∏": {"name": "Kissed Frog", "price_ton": 37.00, "price_ton_black": 111.00},
    "üíç": {"name": "Signet Ring", "price_ton": 29.14, "price_ton_black": 87.42},
    "üöò": {"name": "Low Rider", "price_ton": 30.84, "price_ton_black": 92.52},
    "üèç": {"name": "Neko Helmet", "price_ton": 28.86, "price_ton_black": 86.58},
    "üíÄ": {"name": "Electric Skull", "price_ton": 28.00, "price_ton_black": 84.00},
    "üö¨": {"name": "Vintage Cigar", "price_ton": 25.26, "price_ton_black": 75.78},
    "üß∏": {"name": "Toy Bear", "price_ton": 25.50, "price_ton_black": 76.50},
    "üíç": {"name": "Diamond Ring", "price_ton": 20.60, "price_ton_black": 61.80},
    "üßçüèº‚Äç‚ôÄÔ∏è": {"name": "Voodoo Doll", "price_ton": 21.90, "price_ton_black": 65.70},
    "üåπ": {"name": "Eternal Rose", "price_ton": 18.00, "price_ton_black": 54.00},
    "üéÉ": {"name": "Mad Pumpkin", "price_ton": 14.29, "price_ton_black": 42.87},
    "üíò": {"name": "Cupid Charm", "price_ton": 13.90, "price_ton_black": 41.70},
    "üë©üèª‚Äçü¶≥": {"name": "Ionic Dryer", "price_ton": 12.99, "price_ton_black": 38.97},
    "üíó": {"name": "Love Potion", "price_ton": 12.29, "price_ton_black": 36.87},
    "üï∏": {"name": "Trapped Heart", "price_ton": 9.85, "price_ton_black": 29.55},
    "üßπ": {"name": "Flying Broom", "price_ton": 8.91, "price_ton_black": 26.73},
    "üèµ": {"name": "Skull Flower", "price_ton": 8.87, "price_ton_black": 26.61},
    "‚ò†Ô∏è": {"name": "Crystal Ball", "price_ton": 8.42, "price_ton_black": 25.26},
    "üéº": {"name": "Record Player", "price_ton": 8.76, "price_ton_black": 26.28},
    "üé©": {"name": "Top Hat", "price_ton": 9.36, "price_ton_black": 28.08},
    "üë¢": {"name": "Sky Stilettos", "price_ton": 7.10, "price_ton_black": 21.30},
    "üïØ": {"name": "Love Candle", "price_ton": 8.00, "price_ton_black": 24.00},
    "üö¨": {"name": "Snoop Cigar", "price_ton": 7.68, "price_ton_black": 23.04},
    "üîî": {"name": "Sleigh Bell", "price_ton": 7.58, "price_ton_black": 22.74},
    "üç¨": {"name": "Valentine Box", "price_ton": 6.00, "price_ton_black": 18.00},
    "üå∏": {"name": "Sakura Flower", "price_ton": 6.08, "price_ton_black": 18.24},
    "‚≠êÔ∏è": {"name": "Hanging Star", "price_ton": 5.54, "price_ton_black": 16.62},
    "üëÅ": {"name": "Evil Eye", "price_ton": 5.48, "price_ton_black": 16.44},
    "üêí": {"name": "Jolly Chimp", "price_ton": 5.26, "price_ton_black": 15.78},
    "üê∞": {"name": "Jelly Bunny", "price_ton": 4.50, "price_ton_black": 13.50},
    "üçì": {"name": "Berry Box", "price_ton": 4.01, "price_ton_black": 12.03},
    "üßÅ": {"name": "Bunny Muffin", "price_ton": 4.29, "price_ton_black": 12.87},
    "üïØ": {"name": "Eternal Candle", "price_ton": 4.12, "price_ton_black": 12.36},
    "üëî": {"name": "Bow Tie", "price_ton": 3.60, "price_ton_black": 10.80},
    "üß§": {"name": "Snow Mittens", "price_ton": 4.37, "price_ton_black": 13.11},
    "‚å®Ô∏è": {"name": "Input Key", "price_ton": 3.96, "price_ton_black": 11.88},
    "üó°": {"name": "Light Sword", "price_ton": 3.99, "price_ton_black": 11.97},
    "üçÑ": {"name": "Spy Agaric", "price_ton": 4.47, "price_ton_black": 13.41},
    "üõç": {"name": "Joyful Bundle", "price_ton": 4.02, "price_ton_black": 12.06},
    "ü™∑": {"name": "Lush Bouquet", "price_ton": 3.59, "price_ton_black": 10.77},
    "üëí": {"name": "Witch Hat", "price_ton": 3.79, "price_ton_black": 11.37},
    "‚ùÑÔ∏è": {"name": "Snow Globe", "price_ton": 4.18, "price_ton_black": 12.54},
    "ü™£": {"name": "Hex Pot", "price_ton": 3.39, "price_ton_black": 10.17},
    "üß∫": {"name": "Spring Basket", "price_ton": 3.21, "price_ton_black": 9.63},
    "üåø": {"name": "Swag Bag", "price_ton": 3.42, "price_ton_black": 10.26},
    "ü´ô": {"name": "Restless Jar", "price_ton": 3.47, "price_ton_black": 10.41},
    "ü•ö": {"name": "Easter Egg", "price_ton": 2.94, "price_ton_black": 8.82},
    "üßëüèª‚ÄçüéÑ": {"name": "Santa Hat", "price_ton": 3.93, "price_ton_black": 11.79},
    "üåô": {"name": "Moon Pendant", "price_ton": 2.30, "price_ton_black": 6.90},
    "üê∂": {"name": "Snoop Dogg", "price_ton": 2.96, "price_ton_black": 8.88},
    "üìì": {"name": "Star Notepad", "price_ton": 3.25, "price_ton_black": 9.75},
    "üç∑": {"name": "Spiced Wine", "price_ton": 2.86, "price_ton_black": 8.58},
    "üéÅ": {"name": "Jack-in-the-Box", "price_ton": 3.12, "price_ton_black": 9.36},
    "üöÄ": {"name": "Stellar Rocket", "price_ton": 2.74, "price_ton_black": 8.22},
    "üß¶": {"name": "Fresh Socks", "price_ton": 2.55, "price_ton_black": 7.65},
    "ü™Ñ": {"name": "Party Sparkler", "price_ton": 2.80, "price_ton_black": 8.40},
    "üç≠": {"name": "Hypno Lollipop", "price_ton": 2.69, "price_ton_black": 8.07},
    "ü™Ö": {"name": "Winter Wreath", "price_ton": 2.90, "price_ton_black": 8.70},
    "üéÇ": {"name": "Mousse Cake", "price_ton": 2.64, "price_ton_black": 7.92},
    "üîî": {"name": "Jingle Bells", "price_ton": 3.12, "price_ton_black": 9.36},
    "üì±": {"name": "Tama Gadget", "price_ton": 2.79, "price_ton_black": 8.37},
    "üíù": {"name": "Cookie Heart", "price_ton": 2.60, "price_ton_black": 7.80},
    "üí©": {"name": "Happy Brownie", "price_ton": 2.49, "price_ton_black": 7.47},
    "üç™": {"name": "Ginger Cookie", "price_ton": 2.55, "price_ton_black": 7.65},
    "üéÖüèº": {"name": "Big Year", "price_ton": 2.30, "price_ton_black": 6.90},
    "ü§°": {"name": "Jester Hat", "price_ton": 2.46, "price_ton_black": 7.38},
    "üêç": {"name": "Pet Snake", "price_ton": 2.47, "price_ton_black": 7.41},
    "üçÄ": {"name": "Clover Pin", "price_ton": 2.40, "price_ton_black": 7.20},
    "‚òïÔ∏è": {"name": "Holiday Drink", "price_ton": 2.46, "price_ton_black": 7.38},
    "‚òÄÔ∏è": {"name": "Faith Amulet", "price_ton": 2.50, "price_ton_black": 7.50},
    "üç¨": {"name": "Candy Cane", "price_ton": 2.25, "price_ton_black": 6.75},
    "üçÆ": {"name": "Whip Cupcake", "price_ton": 2.37, "price_ton_black": 7.11},
    "üß¶": {"name": "Xmas Stocking", "price_ton": 2.20, "price_ton_black": 6.60},
    "üç≠": {"name": "Lol Pop", "price_ton": 2.19, "price_ton_black": 6.57},
    "üìÜ": {"name": "Desk Calendar", "price_ton": 2.25, "price_ton_black": 6.75},
    "üì¶": {"name": "Snake Box", "price_ton": 2.34, "price_ton_black": 7.02},
    "üêç": {"name": "Lunar Snake", "price_ton": 2.24, "price_ton_black": 6.72},
    "üéâ": {"name": "B-Day Candle", "price_ton": 2.29, "price_ton_black": 6.87},
    "üçΩ": {"name": "Instant Ramen", "price_ton": 2.17, "price_ton_black": 6.51},
    "üç¶": {"name": "Ice Cream", "price_ton": 2.16, "price_ton_black": 6.48},
    "üéÇ": {"name": "Homemade Cake", "price_ton": 2.35, "price_ton_black": 7.05},
}

def get_gift_by_emoji(emoji: str):
    """–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–∞—Ä–∫–µ –ø–æ —ç–º–æ–¥–∑–∏"""
    return GIFTS_CONFIG.get(emoji)

def get_gift_by_name(name: str):
    """–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–∞—Ä–∫–µ –ø–æ –∏–º–µ–Ω–∏"""
    for emoji, info in GIFTS_CONFIG.items():
        if info["name"].lower() == name.lower():
            return {"emoji": emoji, **info}
    return None

def format_gifts_list() -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è"""
    text = "üéÅ <b>–ü–æ–¥–∞—Ä–∫–∏</b>\n\n"
    
    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Ü–µ–Ω–µ –æ—Ç –±–æ–ª—å—à–µ–≥–æ –∫ –º–µ–Ω—å—à–µ–º—É
    sorted_gifts = sorted(GIFTS_CONFIG.items(), key=lambda x: x[1]["price_ton"], reverse=True)
    
    # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Å–≤–µ—Ä–Ω—É—Ç—É—é —Ü–∏—Ç–∞—Ç—É
    text += "<blockquote expandable>\n"
    text += "üí∞ <b>–û—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (‚ö´Ô∏è - —Ñ–æ–Ω):</b>\n\n"
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –í–°–ï –ø–æ–¥–∞—Ä–∫–∏ –≤ —Å–≤–µ—Ä–Ω—É—Ç–æ–π —Ü–∏—Ç–∞—Ç–µ
    for emoji, info in sorted_gifts:
        name = info["name"]
        price_ton = info["price_ton"]
        price_ton_black = info.get("price_ton_black", price_ton)
        if emoji:
            text += f"{emoji} {name} {price_ton:.2f} TON | ‚ö´Ô∏è {price_ton_black:.2f} TON\n"
        else:
            text += f"{name} {price_ton:.2f} TON | ‚ö´Ô∏è {price_ton_black:.2f} TON\n"
    
    text += "</blockquote>"
    
    return text


def format_all_gifts_list() -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ –¥–ª—è —Å–≤–µ—Ä–Ω—É—Ç–æ–π —Ü–∏—Ç–∞—Ç—ã"""
    text = ""
    
    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Ü–µ–Ω–µ –æ—Ç –±–æ–ª—å—à–µ–≥–æ –∫ –º–µ–Ω—å—à–µ–º—É
    sorted_gifts = sorted(GIFTS_CONFIG.items(), key=lambda x: x[1]["price_ton"], reverse=True)
    
    for emoji, info in sorted_gifts:
        name = info["name"]
        price_ton = info["price_ton"]
        price_ton_black = info.get("price_ton_black", price_ton)
        if emoji:
            text += f"{emoji} {name} {price_ton:.2f} TON | ‚ö´Ô∏è {price_ton_black:.2f} TON\n"
        else:
            text += f"{name} {price_ton:.2f} TON | ‚ö´Ô∏è {price_ton_black:.2f} TON\n"
    
    return text

